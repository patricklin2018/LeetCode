# 233. 数字 1 的个数

## 问题

给定一个整数 n，计算所有小于等于 n 的非负整数中数字 1 出现的个数。

**示例:**

```
输入: 13
输出: 6 
解释: 数字 1 出现在以下数字中: 1, 10, 11, 12, 13 。
```

## 思路

设 N  = abcd 四位数，要求 N 中的 1 的个数，需要分别求出 a、b、c、d 四位即个位、十位、百位、千位上 1 的个数。

**那么怎么求各个位上的 1 的个数呢？**

以百位为例子：

- 当百位为 0 时，假设 N = 4045，那么百位上 1 的数为 100~199，1100~1199，2100~2199，3100~3199。
  也就是说，当百位为 0 时，1 的个数取决于高位，等于 高位 * 当前位，即 4 * 100 = 400 个。
- 当百位为 1 时，假设 N = 4145，那么百位上 1 的数为 100~199，1100~1199，2100~2199，3100~3199 以及 4100~4145。
  也就是说，当百位为 1 时，1 的个数取决于高位 和 低位，等于 高位 * 当前位 + 低位，即 4 * 100 + 45 + 1 = 446 个。
- 当百位为 2 - 9 时，假设 N = 4445，那么百位上 1 的数为 100~199，1100~1199，2100~2199，3100~3199 以及 4100~4199。
  也就是说，当百位为 2 - 9 时，1 的个数取决于高位，等于 （高位 + 1） * 当前位，即 （4 + 1） * 100 = 500 个。

**那么，如何求当前位、高位、低位？**

i 初始化为 1， 代表检查个位，每次乘于 10，检查进一位。

```java
int pre = (int) (n / (i * 10));
int cur = (int) ((n / i) % 10);
int aft = (int) (n - (n / i) * i);
```

## 实现

[代码 - JAVA](Solution.java)

### 1. JAVA

```java
class Solution {
    public int countDigitOne(int n) {
        if (n < 0) {
            return 0;
        }
        
        long i = 1;
        int counter = 0;
        while (n / i != 0) {
            int cur = (int) ((n / i) % 10);
            int pre = (int) (n / (i * 10));
            int aft = (int) (n - (n / i) * i);
            
            counter += pre * i + (cur == 0 ? 0 : cur == 1 ? aft + 1 : i);
            i *= 10;
        }
        return counter;
    }
}
```

